{"ast":null,"code":"import _objectSpread from\"/workspaces/TaskMonitor-Web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useForm}from\"react-hook-form\";import{useNavigate}from\"react-router-dom\";import'./pages.css';import{authService}from\"../services/auth\";import Loader from\"./Loader\";import{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){const navigate=useNavigate();const[loading,setLoading]=useState(false);const{register,handleSubmit,watch,formState:{errors}}=useForm();const password=watch(\"password\");const onRegister=async data=>{setLoading(true);console.log(data);const body={name:data.name,email:data.email,password:data.password};try{const apires=await authService.register(body);console.log(apires);// store user for demo\nlocalStorage.setItem(\"registeredUser\",JSON.stringify(data));setLoading(false);navigate(\"/login\");}catch(error){setLoading(false);window.alert(\"Something went wrong, please try again\");}};const backtologin=()=>navigate(\"/login\");if(loading){return/*#__PURE__*/_jsx(Loader,{});}else{return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onRegister),className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Account\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\"},register(\"name\",{required:\"Name is required\"}))),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.name.message}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"email\"},register(\"email\",{required:\"Email is required\"}))),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.email.message}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\"},register(\"password\",{required:\"Password is required\"}))),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.password.message}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\"},register(\"confirmPassword\",{required:\"Confirm password is required\",validate:value=>value===password||\"Passwords do not match\"}))),errors.confirmPassword&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.confirmPassword.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"actionbuttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"blackbutton\",onClick:backtologin,children:\"Bact To Login\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]})]});}}","map":{"version":3,"names":["useForm","useNavigate","authService","Loader","useState","jsx","_jsx","jsxs","_jsxs","Register","navigate","loading","setLoading","register","handleSubmit","watch","formState","errors","password","onRegister","data","console","log","body","name","email","apires","localStorage","setItem","JSON","stringify","error","window","alert","backtologin","onSubmit","className","children","_objectSpread","type","required","message","validate","value","confirmPassword","onClick"],"sources":["/workspaces/TaskMonitor-Web/src/pages/Register.js"],"sourcesContent":["import { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport './pages.css';\nimport { authService } from \"../services/auth\"\nimport Loader from \"./Loader\";\nimport { useState } from \"react\";\n\nexport default function Register() {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors }\n  } = useForm();\n\n  const password = watch(\"password\");\n\n  const onRegister = async (data) => {\n    setLoading(true)\n    console.log(data);\n    const body = {\n      name: data.name,\n      email: data.email,\n      password: data.password,\n    }\n    try {\n      const apires = await authService.register(body)\n      console.log(apires)\n      // store user for demo\n      localStorage.setItem(\"registeredUser\", JSON.stringify(data));\n      setLoading(false)\n      navigate(\"/login\");\n    } catch (error) {\n      setLoading(false)\n      window.alert(\"Something went wrong, please try again\");\n    }\n  };\n  const backtologin = () => navigate(\"/login\");\n\n  if (loading) {\n    return <Loader />\n  } else {\n    return (\n      <form onSubmit={handleSubmit(onRegister)} className=\"container\">\n        <h2>Create Account</h2>\n\n        <label>Name</label>\n        <input\n          type=\"text\"\n          {...register(\"name\", { required: \"Name is required\" })}\n        />\n        {errors.name && <p className=\"error\">{errors.name.message}</p>}\n\n        <label>Email</label>\n        <input\n          type=\"email\"\n          {...register(\"email\", { required: \"Email is required\" })}\n        />\n        {errors.email && <p className=\"error\">{errors.email.message}</p>}\n\n        <label>Password</label>\n        <input\n          type=\"password\"\n          {...register(\"password\", { required: \"Password is required\" })}\n        />\n        {errors.password && <p className=\"error\">{errors.password.message}</p>}\n\n        <label>Confirm Password</label>\n        <input\n          type=\"password\"\n          {...register(\"confirmPassword\", {\n            required: \"Confirm password is required\",\n            validate: (value) => value === password || \"Passwords do not match\",\n          })}\n        />\n        {errors.confirmPassword && (\n          <p className=\"error\">{errors.confirmPassword.message}</p>\n        )}\n\n        <div className=\"actionbuttons\">\n          <button className=\"blackbutton\" onClick={backtologin}>Bact To Login</button>\n          <button type=\"submit\">Register</button>\n        </div>\n      </form>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}